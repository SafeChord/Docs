# KDD (Knowledge-Driven Development) - 第一階段：人機協同構建專案的高階描述語言

**最後更新日期：** 2025年5月17日

## 1. 核心目標 (Core Objective)

* 在專案初期，由人類工程師與 Knowledge AI 協同工作，創建一套「專案的高階描述語言」（Project's High-Level Description Language）。
* 這套語言以結構化的文件集合（知識樹結構文件 + 核心節點描述文件）的形式存在，類似於「Prompt Code」或專案的「抽象語法樹 (AST)」。
* 其目的是為後續的 KDD 階段（如 KDD Step 2：標記關鍵節點語意、KDD Step 3：AI 生成開發構件）提供清晰、結構化、富含上下文的輸入。

## 2. 核心理念 (Core Concepts)

* **文件即 Prompt (Documents as Prompts)：** KDD 文件（尤其是包含元數據、結構定義和對子節點期望的描述文件）不僅是靜態文檔，更是對 AI 的結構化、富含上下文的指令。
* **知識樹為核心藍圖 (Knowledge Tree as Core Blueprint)：** 提供專案的宏觀架構、上下文、節點間的相對關係以及目標導向的指引。它幫助 AI 更有目的性地完成工作，並設定了知識領域構建的邊界。
* **元數據驱动 (Metadata-Driven)：** 豐富的元數據 (如 Markdown Frontmatter 中的 `title`, `doc_id`, `summary`, `keywords`, `logical_path`, `related_docs`, `parent_doc` 等) 為 AI 提供關於節點自身屬性、目標和關聯的細粒度信息。這些元數據對 RAG (Retrieval Augmented Generation) 系統和 KDD 中的 AI 理解上下文至關重要。
* **人機協同 (Human-AI Collaboration)：** 將人類工程師與 Knowledge AI 視為「職位相仿的工作夥伴」（人類因負責最終審核與把握方向，故「職等更高一些」），共同參與早期設計與初步內容生成。
    * **人類角色：** 把握核心需求與價值、進行創造性設計、設定專案邊界與知識樹結構、審核 AI 產出、主導關鍵決策。
    * **Knowledge AI 角色：** 作為設計夥伴和討論對象、輔助需求分析、提供結構建議、生成初步草稿（如知識樹結構、節點元數據、初步摘要）、探索多種方案、輔助檢查一致性。
* **迭代與探索 (Iteration and Exploration)：** 允許從一個非常高層次或簡單的想法（可能只是一句話，如「我想要一個健康監控系統」）開始，通過與 Knowledge AI 的「無限討論」（理想中是低成本、高效率的互動模式）逐步細化、填充和完善知識結構與節點描述。目前此階段尚無固定方法論，更側重於人類主導的探索性對話。

## 3. 工作流程與輸入輸出 (Workflow & Inputs/Outputs)

### 3.1 輸入 (Inputs)

* **初始需求/構想：** 可以是一個非常高層次的想法、專案目標或一句話描述。
* **基礎模板 (Base Template - 初級階段實踐)：**
    * 主要體現為 Markdown 文件頭部的 Frontmatter 結構，包含一組標準化的元數據字段 (e.g., `doc_id`, `title`, `summary`, `keywords`, `logical_path`, `related_docs`, `parent_doc`, `status`, `version`, `authors`)。
    * 現階段，此模板側重於元數據的規範性，為 RAG 和 AI 理解提供基礎結構化信息。更細緻的針對節點類型或正文內容結構的模板（例如，預設章節框架）可作為未來 KDD 工具鏈完善的方向，可能需要配合「AI 使用說明書」或更規範的節點類型定義。
* **(可選) 相關領域知識、現有文檔、專案的設計原則或內容風格指南。**

### 3.2 核心活動 (Core Activities)

1.  **需求解析與初步構想：** 人類工程師提出初始想法，與 Knowledge AI 進行開放式討論，探索可能性，擴展初步概念。AI 可扮演提問、建議、信息檢索等輔助角色。
2.  **頂層設計與知識樹結構規劃：**
    * 人類工程師主導設計專案的總體範圍、核心模組劃分以及知識樹的頂層結構。
    * Knowledge AI 輔助提出不同的結構建議或子節點劃分方案，與人類共同創建「結構樹文件」（例如 `project.knowledgetree.md`）的初稿，定義主要節點的層次關係、`logical_path` 命名約定以及初步的節點描述。
3.  **核心節點初步描述文件創建：**
    * 針對知識樹中規劃的核心概念節點，人類工程師與 Knowledge AI 共同撰寫初步的節點描述文件（例如 `project.conceptA.md`）。
    * 重點是基於「基礎模板」填充元數據，撰寫初步的 `summary` 來概括節點核心語意，明確其 `logical_path` 和與其他節點的關聯 (`parent_doc`, `related_docs`)。
4.  **迭代完善與填充 (Iterative Refinement and Population)：**
    * 通過多次「人機討論」，不斷審核、修正、補充知識樹的結構和各節點描述。
    * Knowledge AI 可基於現有節點內容和結構，建議新的子節點、擴展點，或檢查術語一致性。
    * 人類工程師「把握核心」，確保知識結構的合理性、語意描述的準確性，並進行最終審核和確認。

### 3.3 輸出 (Outputs) - 「專案的高階描述語言」 (或稱「Prompt Code」/ AST 的一種形式)

* **結構樹文件 (`*.knowledgetree.md` 或類似結構定義文件)：**
    * 以結構化方式（例如，Markdown 列表、樹狀結構）呈現整個專案的知識節點層次、`logical_path`、預期路徑、父子關係、重要的關聯節點、以及對各節點的簡要描述和當前狀態（如：規劃中、初稿、已完成）。
    * 此文件作為全局的「AST 根節點」或「主 Prompt Code 文件」，為後續所有操作提供頂層上下文和導航。
    * **示例：** `safechord.knowledgetree.md` 文件清晰地展示了這種結構。
* **核心/已定義節點的描述文件 (Markdown 文件)：**
    * 每個文件都包含標準化且豐富的元數據 (Frontmatter)。
    * 包含對該節點核心語意的初步文字描述 (至少應有 `summary`)。
    * 明確了其在整體知識體系中的定位 (`logical_path`) 和與其他節點的顯式關聯 (`parent_doc`, `related_docs`)。
    * 這些文件可被視為「AST 的子節點」或「模組化的 Prompt Code 文件」。
    * **示例：** `safechord.md` (作為專案頂層描述), `safechord.chorde.md` (即使早期可能只有元數據和一句話的摘要，也已是知識樹的一個節點)。
* **此階段輸出的共同特性：**
    * **版本化：** 這些文件應納入版本控制系統。
    * **結構化：** 具有清晰、一致的格式。
    * **富含上下文：** 元數據和結構本身提供了豐富的上下文信息。
    * **可處理性：** 其設計目標是能被後續 KDD 階段的 AI (Knowledge AI 進行進一步細化，或 Engineering AI 直接/間接用於生成開發構件) 理解和處理。

## 4. 未來展望與考量 (Future Considerations)

* **更完善的「基礎模板」與「AI 使用說明書」：** 針對不同類型或層次的知識節點，設計更細緻的內容結構模板和更明確的 AI 指令集或「節點類型定義」。
* **「Prompt Compiler」的概念：** 探索或開發工具，能夠將 KDD 第一階段生成的「高階描述語言」自動「編譯」或轉換成針對特定 Engineering AI 模型和特定生成任務（如生成特定語言的程式碼、API文檔、測試案例）的、更優化、更具體的 Prompts。
* **更智能的 Knowledge AI：** 期望 Knowledge AI 在結構設計、語意理解、邏輯一致性維護、自動化元數據填充與鏈接建議等方面能力持續增強，進一步減少人類在重複性工作上的投入。
* **標準化的 KDD 描述語言：** 長遠來看，可以探索更規範化、更具表達能力的語言（可能超越 Markdown Frontmatter + 樹狀列表）來描述知識樹和節點語意，使其更易於工具處理和跨專案重用。
* **低成本 AI 的實現：** 針對早期「無限討論」階段，探索和集成輕量級、高效、低成本的 AI 模型或技術，以支持高頻次的互動和草稿生成。

---

**討論備註與當前實踐總結：**

* KDD 第一階段是高度探索性和迭代性的，不追求一次性完美，而是通過持續的人機協作逐步完善。
* 在當前實踐中（如 SafeChord 專案所示），人類工程師在定義初始結構、核心元數據和進行審核方面扮演主導角色，AI 的輔助效果尚在「勉強通過」階段，仍需大量人類智慧的投入。
* 核心驅動力是為 AI 輔助開發的每一步提供明確的目標和可追溯的上下文，避免漫無目的的生成，從而提升整體開發效率和質量。
